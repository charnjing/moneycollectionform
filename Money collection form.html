<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Money Collection Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    form, .admin-section {
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-width: 400px;
      margin-bottom: 20px;
    }
    label {
      font-weight: bold;
    }
    input, select, button, textarea {
      padding: 8px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button {
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
    }
    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
    .message {
      margin-top: 10px;
      font-size: 14px;
    }
    .admin-section {
      background-color: #f9f9f9;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      display: none;
    }
    .admin-section h3 {
      margin-top: 0;
    }
  </style>
</head>
<body>

<h2>Money Collection Form</h2>
<form id="moneyCollectionForm">
  <label for="dateTime">Date and Time:</label>
  <input type="text" id="dateTime" name="dateTime" readonly />

  <label for="dept">Department:</label>
  <select id="dept" name="dept" required>
    <option value="">Select Department</option>
    <!-- Additional departments will be populated dynamically -->
  </select>

  <label for="stall">Stall Number:</label>
  <select id="stall" name="stall" required>
    <option value="">Select Stall</option>
    <!-- Stall numbers will be populated dynamically -->
  </select>

  <label for="period">Period:</label>
  <select id="period" name="period" required>
    <option value="">Select Period</option>
    <!-- Period options will go here -->
  </select>

  <label>Payment Type:</label>
  <div>
    <input type="radio" id="cash" name="payment" value="Cash" required />
    <label for="cash">Cash</label>
    <input type="radio" id="cashless" name="payment" value="Cashless" required />
    <label for="cashless">Cashless</label>
  </div>

  <label for="amount">Amount:</label>
  <input type="number" id="amount" name="amount" step="0.01" required />

  <button type="submit" id="submitBtn">Submit</button>
  <div class="message" id="message"></div>
</form>

<!-- Admin Section -->
<div class="admin-section" id="adminSection">
  <h3>Edit Dropdown Options</h3>

  <!-- Edit Department -->
  <label for="adminDept">Departments (one per line):</label>
  <textarea id="adminDept" rows="5"></textarea>
  <button onclick="saveDeptOptions()">Save Department Options</button>

  <!-- Edit Stalls -->
  <h4>Edit Stalls</h4>
  <label for="selectDept">Select Department:</label>
  <select id="selectDept">
    <option value="">Select Department</option>
  </select>

  <label for="levelPrefix">Level Prefix:</label>
  <input type="text" id="levelPrefix" placeholder="#02-" />

  <label for="startRange">Range:</label>
  <input type="number" id="startRange" placeholder="Start" />
  <input type="number" id="endRange" placeholder="End" />

  <button onclick="generateStalls()">Generate Stalls</button>

  <label for="adminPeriod">Periods (one per line):</label>
  <textarea id="adminPeriod" rows="5"></textarea>
  <button onclick="savePeriodOptions()">Save Period Options</button>
</div>

<button onclick="showAdminSection()">Admin Edit</button>

<script>
// JavaScript for handling department and stall number updates
document.addEventListener('DOMContentLoaded', function () {
  const departmentSelect = document.getElementById('dept'); // Assuming the department dropdown has id="dept"
  const stallSelect = document.getElementById('stall'); // Assuming the stall dropdown has id="stall"
  
  const stallNumbers = {
    "TPY Lor 8 Table Cleaning": [
      "#01-01", "#01-02", "#01-03", "#01-04", "#01-05", "#01-06", "#01-07", "#01-08", "#01-09", "#01-10",
      "#01-11", "#01-12", "#01-13", "#01-14", "#01-15", "#01-16", "#01-17", "#01-18", "#01-19", "#01-20",
      "#01-21", "#01-22", "#01-23", "#01-24", "#01-25", "#01-26", "#01-27", "#01-28", "#01-29", "#01-30",
      "#01-31", "#01-32", "#01-33", "#01-34", "#01-35", "#01-36", "#01-37", "#01-38", "#01-39", "#01-40",
      "#01-41", "#01-42", "#01-43", "#01-44", "#01-45", "#01-46", "#01-47", "#01-48", "#01-49", "#01-50",
      "#01-51", "#01-52", "#01-53", "#01-54", "#01-55", "#01-56", "#01-57", "#01-58", "#01-59", "#01-60"
    ],
    "TPY Lor 4 Table Cleaning": [
      "#01-33", "#01-34", "#01-35", "#01-36", "#01-37", "#01-38", "#01-39", "#01-40", "#01-41", "#01-42"
    ]
  };

  // Function to populate the stall numbers based on selected department
  function populateStalls() {
    const department = departmentSelect.value;
    const stalls = stallNumbers[department] || [];

    // Clear previous stall options
    stallSelect.innerHTML = '';

    // Add default stall options for selected department
    stalls.forEach(stall => {
      const option = document.createElement('option');
      option.value = stall;
      option.textContent = stall;
      stallSelect.appendChild(option);
    });
  }

  // Add event listener for department change
  departmentSelect.addEventListener('change', populateStalls);

  // Load default stall numbers when page loads
  populateStalls();

  // Function to load dropdown options (departments, periods)
  function loadDropdownOptions() {
    const departments = ["TPY Lor 8 Table Cleaning", "TPY Lor 4 Table Cleaning"];
    departments.forEach(department => {
      const option = document.createElement('option');
      option.value = department;
      option.textContent = department;
      departmentSelect.appendChild(option);
    });

    const periods = ["Morning", "Afternoon", "Evening"];
    const periodSelect = document.getElementById("period");
    periods.forEach(period => {
      const option = document.createElement('option');
      option.value = period;
      option.textContent = period;
      periodSelect.appendChild(option);
    });
  }

  loadDropdownOptions();
});
</script>
</body>
</html>
